{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Tomo â€“ {{ course.title }}{% endblock %}

{% block navigation-left %} 
    <li class="active"><a href="{% url 'course_detail' course.pk %}">{{ course.title }} <span class="sr-only">(current)</span></a></li>
{% endblock %}

{% block content %}


<!-- I think it looks beter withot title  
<div class="row">
  <div class="col-xs-12">
  	<h3>
		{{ course.title }}
	</h3>
  </div>
</div>
 -->

<div class="row">
  <div class="col-xs-12" id='mydiv'>
  </div>
</div>

		{% for problem_set in course.annotated_problem_sets %}
 		  <div class="media">
			<div class="media-left media-middle">
			  <div style='width: 80px; height: 70px; line-height: 70px; font-size: 20px;'>
			  	<p class="text-center percentage">{{ problem_set.percentage }}%</p>
			  </div>
			</div>
			<div class="media-body media-middle">
			  <h4 class="media-heading"><a href="{% url 'problem_set_detail' problem_set.pk %}">{{ problem_set.title }}</a></h4>
			</div>
		  </div>
		{% endfor %}		
		
{% endblock content %}

{% block extra_js %}
  <script src="{% static "jquery.percentageloader-0.2.js" %}"></script>
  <script>
    $( document ).ready(function() {
      $("p.percentage").each(function( div ) {
    	  var text = $( this ).text();
    	  var $div = $( this ).parent();
    	  var percentage = 1.0*parseInt(text.substring(0, text.length - 1))/100;   
    	  $div.empty();
    	  $div.percentageLoader({width : 70, height : 70, progress : percentage});
      });
    });
</script>

{% endblock extra_js %}	